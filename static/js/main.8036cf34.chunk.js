(window["webpackJsonpreact-joke-api"]=window["webpackJsonpreact-joke-api"]||[]).push([[0],{22:function(e,t,a){e.exports=a(52)},27:function(e,t,a){},28:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(20),s=a.n(r),c=(a(27),a(28),a(21)),o=a(3),l=a.n(o),u=a(9),d=a(4),k=a(5),p=a(8),h=a(6),g=a(2),m=a(7),f=(a(30),a(31),function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).handleClick=a.handleClick.bind(Object(g.a)(a)),a}return Object(m.a)(t,e),Object(k.a)(t,[{key:"handleClick",value:function(e){var t="";t=e.target.classList.contains("fa-arrow-down")?"down":"up",this.props.changeRating(this.props.id,t)}},{key:"render",value:function(){var e=this.props.rating>=40?"fa-grin-squint-tears":this.props.rating>=20?"fa-grin-tears":this.props.rating>=10?"fa-laugh-beam":this.props.rating>=0?"fa-smile":0===this.props.rating?"fa-meh":this.props.rating<0&&this.props.rating>=-30?"fa-surprise":"fa-tired",t=this.props.rating>=40?"Joke--green":0===this.props.rating?"":this.props.rating>0?"Joke--yellow":"Joke--red";return i.a.createElement("div",{className:"Joke"},i.a.createElement("div",{className:"Joke--rating_container"},i.a.createElement("i",{className:"fas fa-arrow-up Joke--icon",onClick:this.handleClick}),i.a.createElement("div",{className:"Joke--rating ".concat(t)},this.props.rating),i.a.createElement("i",{className:"fas fa-arrow-down Joke--icon",onClick:this.handleClick})),i.a.createElement("div",{className:"Joke--description"},this.props.text),i.a.createElement("div",{className:"Joke--scale"},i.a.createElement("i",{className:"far ".concat(e," ").concat(t," Joke--laugh_scale")})))}}]),t}(n.Component)),v=a(10),j=a.n(v),E="https://icanhazdadjoke.com/",b=a(49),w=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={jokes:JSON.parse(window.localStorage.getItem("jokes")||"[]"),currentPage:0,loading:!1},a.changeRating=a.changeRating.bind(Object(g.a)(a)),a.generateNewJokes=a.generateNewJokes.bind(Object(g.a)(a)),a.handleClick=a.handleClick.bind(Object(g.a)(a)),a}return Object(m.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],0!==this.state.jokes.length){e.next=11;break}case 2:if(!(t.length<this.props.jokeCount)){e.next=9;break}return e.next=5,j.a.get("".concat(E),{headers:{Accept:"application/json"}});case 5:a=e.sent,t.push({id:b(),text:a.data.joke,rating:0}),e.next=2;break;case 9:this.setState({jokes:t,loading:!1}),window.localStorage.setItem("jokes",JSON.stringify(this.state.jokes));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"changeRating",value:function(e,t){var a=this.state.jokes.map((function(a){return"up"===t&&a.id===e?a.rating+=1:"down"===t&&a.id===e&&(a.rating-=1),a})).sort((function(e,t){return t.rating-e.rating}));this.setState({jokes:a},(function(){return window.localStorage.setItem("jokes",JSON.stringify(a))}))}},{key:"generateNewJokes",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,a,n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[];case 1:if(!(t.length<this.props.jokeCount)){e.next=8;break}return e.next=4,j.a.get("".concat(E),{headers:{Accept:"application/json"}});case 4:a=e.sent,t.push({id:b(),text:a.data.joke,rating:0}),e.next=1;break;case 8:this.setState((function(e){return{loading:!1,jokes:[].concat(Object(c.a)(e.jokes),t)}}),(function(){return window.localStorage.setItem("jokes",JSON.stringify(n.state.jokes))}));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleClick",value:function(){this.setState({loading:!0},this.generateNewJokes)}},{key:"render",value:function(){var e=this,t=this.state.jokes.map((function(t){return i.a.createElement(f,{key:t.id,id:t.id,text:t.text,changeRating:e.changeRating,rating:t.rating})}));return i.a.createElement("div",{className:"JokeList"},i.a.createElement("div",{className:"JokeList--inner_container"},i.a.createElement("div",{className:"JokeList--panel"},i.a.createElement("div",{className:"JokeList--heading"},"Bad Jokes"),i.a.createElement("button",{className:"JokeList--button",onClick:this.handleClick},"New Jokes"))),i.a.createElement("div",{className:"JokeList--jokes"},this.state.loading?i.a.createElement("div",{className:"JokeList--loader"},i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null)):null,t))}}]),t}(n.Component);w.defaultProps={jokeCount:10};var J=w;var N=function(){return i.a.createElement("div",{className:"App"},i.a.createElement(J,null))};s.a.render(i.a.createElement(N,null),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.8036cf34.chunk.js.map